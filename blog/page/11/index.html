
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>syslog.warten.de</title>
  <meta name="author" content="SW">

  
  <meta name="description" content="Letzte Woche habe ich an einer LPI-Zertifizierungsprüfung teilgenommen. Qualität und Schwierigkeitsgrad der Fragen waren wie erwartet. Enttäuscht &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://syslog.warten.de/blog/page/11">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="syslog.warten.de" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">syslog.warten.de</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:syslog.warten.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/12/deutsche_ubersetzung_der_lpifr/">Deutsche Übersetzung Der LPI-Fragen Fehlerhaft</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-12-03T00:00:00+01:00" pubdate data-updated="true">Dec 3<span>rd</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Letzte Woche habe ich an einer <a href="http://www.lpi.org/">LPI-Zertifizierungsprüfung</a> teilgenommen. Qualität und Schwierigkeitsgrad der Fragen waren wie erwartet.</p>

<p>Enttäuscht war ich von der Qualität der deutschen Übersetzungen. Über einfache Rechtschreibfehler (wie etwa “Prufüng” im Prüfungszeugnis) kann ich hinwegsehen. Mindestens eine der Multiple-Choice-Prüfungsfragen war jedoch aufgrund der fehlerhaften Übersetzung nicht lösbar. Glücklicherweise war es möglich, sich die englische Originalfrage anzeigen zu lassen. Es war eine Frage zur maximalen Anzahl von Festplatten an einem SCSI-1-Bus. Bei den deutschen Antworten waren devices und hard disks jeweils mit “Platten” übersetzt worden, mit der Folge, dass keine der deutschen Antworten richtig war.</p>

<p>Verunsichert durch diesen Fehler habe ich manche der weiteren Fragen erst nach Prüfung der englischen Fragen beantwortet. Für die nächste Prüfung überlege ich nun, gleich den englischen Test zu machen.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/12/debian_linux_mit_debootstrap_a/">Debian Linux Mit Debootstrap Auf Host Europe VPS Installieren</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-12-01T00:00:00+01:00" pubdate data-updated="true">Dec 1<span>st</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p><strong>[EDIT: December 8, 2007 9:45 PM: Das nachfolgend beschriebene Vorgehen führt zu Fehlern beim Restore eines über das Virtuozzo Control Panel erstellten Backups. Es ist daher nicht zu empfehlen, wenn die Backup-Funktionalität des Control Panels genutzt werden soll. Weitere Informationen zur Beeinträchtigung finden Sie in diesem <a href="http://syslog.warten.de/2007/12/restore-failed-auf-vps-linux.html">Artikel</a>.]</strong></p>

<p>Das Debian-Image der <a href="http://www.hosteurope.de/produkte/VPS-Linux">VPS Linux bei Host Europe</a> hat mehr Pakete vorinstalliert als für manche Zwecke notwendig sind. Diese könnten natürlich einfach entfernt werden. In diesem Fall soll jedoch ein Debian Linux mit debootstrap auf dem virtuellen Server komplett neu installiert werden. Das Vorgehen orientiert sich weitgehend an der <a href="http://www.debian.org/releases/stable/hppa/apds03.html.de">Installationsanleitung</a> der Debian-Entwickler. Durch die Virtualisierungstechnik sind jedoch einige Besonderheiten zu beachten.</p>

<p>Zu Beginn ist der Server über das Virtuozzo Power Panel im Menüpunkt VPS Management > Maintenance in den Repair Mode zu versetzen. Das Virtuozzo Power Panel ist über https://VPS-IP:4643/ aufzurufen. Im Repair Mode ist das Dateisystem der VPS nach /repair gemountet.</p>

<p>Das Dateisystem der VPS wird komplett gelöscht, danach debootstrap installiert und ausgeführt.</p>

<pre><code># rm -rf /repair/*  
# mkdir /tmp/work  
# cd /tmp/work/  
# wget http://ftp.hosteurope.de/mirror/ftp.debian.org/debian/pool/main/d/debootstrap/debootstrap\_1.0.7\_all.deb  
# ar -xf debootstrap\_1.0.7\_all.deb  
# cd /  
# zcat /tmp/work/data.tar.gz | tar xv  
# /usr/sbin/debootstrap –arch i386 etch /repair http://ftp.hosteurope.de/mirror/ftp.debian.org/debian/ 
</code></pre>

<p>Nachdem das Basissystem installiert ist, müssen ein paar Anpassungen vorgenommen werden. In der Regel können die Konfigurationsdateien aus dem Repair Mode mit <code>cp -a /etc/filename /repair/etc/filename</code> übernommen werden. Es werden die Pseudo-Dateisysteme in fstab hinzugefügt, …</p>

<pre><code># vi /repair/etc/fstab 

proc  /proc       proc    defaults    0    0  
none  /dev/pts    devpts  rw          0    0 
</code></pre>

<p>… ein Template für die Netzwerkkonfiguration hinterlegt, …</p>

<pre><code># vi /repair/etc/network/interfaces.template 

auto lo  
iface lo inet loopback  
       address 127.0.0.1  
       netmask 255.0.0.0  
       broadcast 127.255.255.255  
       up ip route replace 127.0.0.0/8 dev lo 
</code></pre>

<p>… die sources.list erweitert, …</p>

<pre><code># vi /repair/etc/apt/sources.list 

#Host Europe server:  
deb http://ftp.hosteurope.de/mirror/ftp.debian.org/debian etch main  
deb http://ftp.hosteurope.de/mirror/ftp.debian.org/debian-security etch/updates main 
deb http://security.debian.org etch/updates main  
deb-src http://security.debian.org/ etch/updates main

#deb http://ftp.de.debian.org/debian/ etch main contrib non-free  
#deb-src http://ftp.de.debian.org/debian etch main contrib non-free  
… die hosts-Datei angepasst und …

# vi /repair/etc/hosts 

127.0.0.1     localhost localhost.localdomain  
10.20.30.40   example.com 
</code></pre>

<p>… in der inittab werden die Konsolen einkommentiert, da sie auf dem VPS nicht nutzbar sind.</p>

<pre><code># vi /repair/etc/inittab   
[...]  
# Note that on most Debian systems tty7 is used by the X Window System,  
# so if you want to add more getty’s go ahead but skip tty7 if you run X.  
#  
#1:2345:respawn:/sbin/getty 38400 tty1  
#2:23:respawn:/sbin/getty 38400 tty2  
#3:23:respawn:/sbin/getty 38400 tty3  
#4:23:respawn:/sbin/getty 38400 tty4  
#5:23:respawn:/sbin/getty 38400 tty5  
#6:23:respawn:/sbin/getty 38400 tty6  
[...] 
</code></pre>

<p>Es wird eine chroot-Umgebung aufgebaut, damit zusätzliche Pakete installiert und das neue System bearbeitet und konfiguriert werden können.</p>

<pre><code># LANG=C chroot /repair /bin/bash 
</code></pre>

<p>Zuerst wird die Zeitzone eingestellt.</p>

<pre><code># tzconfig 
</code></pre>

<p>Dann muss der sshd installiert werden. Außerdem werden locales und console-data installiert, um Sprach- und Lokalisierungsanpassungen vornehmen zu können. Um beispielsweise ein englischsprachiges System mit einer deutschen Tastaturbelegung zu nutzen, wird bei den locales “en_US.UTF-8″ und in console_data die Keymap “pc / qwertz / German / Standard / latin1″ ausgewählt.</p>

<pre><code># aptitude update  
# aptitude install openssh-server  
# aptitude install locales  
# dpkg-reconfigure locales  
# aptitude install console-data  
# dpkg-reconfigure console-data 
</code></pre>

<p>Da bei jedem Neustart des V-Servers der Hostname zurückgesetzt wird, muss er beim Booten neu geschrieben werden. Es wird hierfür die in der <a href="http://www.hosteurope.de/faq/index.php?cpid=11517">Host Europe FAQ</a> vorgeschlagene Lösung eingesetzt.</p>

<pre><code># vi /etc/init.d/hostname_vps 

#!/bin/bash  
HOSTNAME=example.com  
echo $HOSTNAME &gt; /etc/hostname  
/bin/hostname $HOSTNAME  
if [ -f /etc/my.resolv.conf ]; then cp /etc/my.resolv.conf /etc/resolv.conf ; fi  
exit  
</code></pre>

<p>Das Init-Skript wird erstellt, mit Ausführrechten versehen und verlinkt, damit es bei jedem Bootvorgang ausgeführt wird.</p>

<pre><code># chmod x /etc/init.d/hostname_vps  
# update-rc.d hostname_vps defaults 09 
</code></pre>

<p>Zum Abschluß wird das root-Passwort gesetzt, die chroot-Umgebung verlassen und ausgeloggt.</p>

<pre><code># /etc/init.d/ssh stop  
# passwd  
# exit  
# logout 
</code></pre>

<p>Die Installation von Debian Linux ist nun vollständig abgeschlossen und der Server muss rebootet werden. Hierzu wird der Repair Mode im Virtuozzo Power Panel beendet. Nach ein paar Sekunden sollte man sich auf dem neugestarteten Server anmelden können.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/11/plesk_auf_debian_uber_paketver/">Plesk Auf Debian über Paketverwaltung Installieren</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-11-03T00:00:00+01:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Das Konfigurationswerkzeug <a href="http://www.swsoft.com/plesk">Plesk</a> kann sehr einfach über die Paketverwaltung auf einem Debian Linux installieren werden. Im folgenden Beispiel wird Plesk 8.x.x auf einem Debian Etch installiert. Es stehen außerdem Repositories für Sarge sowie Ubuntu Dapper und Edgy zur Verfügung.</p>

<p>Zunächst muss das Plesk-Repository der Paketverwaltung bekannt gemacht werden. Es wird in der Datei /etc/apt/sources.list eingetragen.</p>

<pre><code># vi /etc/apt/sources.list 

deb http://autoinstall.plesk.com/debian/PSA8 etch all 
</code></pre>

<p>Nachdem die neue Paketquelle hinzugefügt wurde, muss die Liste der Pakete aktualisiert werden. Dann kann Plesk installiert werden.</p>

<pre><code># aptitude update  
# aptitude install psa 
</code></pre>

<p>Weitere Plesk-Komponenten können ebenfalls über die Paketverwaltung installiert werden.</p>

<pre><code># aptitude install psa-backup-manager psa-firewall psa-spamassassin psa-locale-de-de psa-mod-fcgid-configurator psa-vpn psa-watchdog 
</code></pre>

<p>Eine Liste aller angebotenen Pakete kann man sich mit folgendem Befehl ausgeben lassen:</p>

<pre><code>$ wget -qO – http://autoinstall.plesk.com/debian/PSA8/dists/etch/all/binary-i386/Packages.gz | zcat | grep ^Package: | awk ‘{print $2}’ | sort 
</code></pre>

<p>Nach der Installation kann man Plesk über https://example.com:8443/ aufrufen. Die Zugangsdaten nach der Installation sind “admin” (Benutzername) und “setup” (Passwort) und sollten umgehend geändert werden. Das aktuelle Passwort kann in der Datei /etc/psa/.psa.shadow ausgelesen werden.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/10/compiz_und_window-decorations/">Compiz Und Window-Decorations</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-20T00:00:00+02:00" pubdate data-updated="true">Oct 20<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Auf einem Ubuntu Linux mit Nvidia-Grafikkarte war es der in die Datei <code>/etc/X11/xorg.conf</code> (Section “Screen”) hinzugefügte Eintrag</p>

<pre><code>Option “AddARGBGLXVisuals” “True” 
</code></pre>

<p>der Compiz dazu bewegte, den Desktop mit Window-Decorations zu zeichnen.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/09/gameserver-fur-enemy-territory-quake-wars-einrichten/">Gameserver Für Enemy Territory: Quake Wars Einrichten</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-09-19T00:00:00+02:00" pubdate data-updated="true">Sep 19<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Die <a href="http://community.enemyterritory.com/forums/showthread.php?p=63146#post63146">Ankündigung</a> eines nativen Linux-Clients für <a href="http://www.enemyterritory.com/">Enemy Territory: Quake Wars</a> (ETQW) hat mein Interesse an dem Spiel geweckt und die kürzlich erschienene Demo hat mir bisher viel Spaß gemacht. Es kam daher die Idee auf, einen eigenen Gameserver zu betreiben. Die Installation des Dienstes und sein Aufruf mit dem Start-Stop-Daemon über ein Init-Skript auf einem Server mit Debian GNU/Linux wird in diesem Artikel beschrieben.</p>

<p>Zuerst ist das Installationspaket herunterzuladen. Das Paket kann <a href="http://zerowing.idsoftware.com:6969/">über BitTorrent geladen</a> werden. Außerdem stehen viele Downloadmirrors (HTTP) zur Verfügung. Wer das Paket mit wget downloaden will, wird bei den meisten Mirrors auf Schwierigkeiten stossen. Bei <a href="http://games.internode.on.net/filelist.php?app=263&amp;menu=10">Internode</a> konnte zum Zeitpunkt des Entstehens dieses Artikels ohne Einschränkungen mit wget geladen werden.</p>

<p>Befindet sich das Installationspaket auf dem Server, können die MD5-Prüfsumme verifiziert, die Ausführrechte gesetzt und anschliessend die Installation gestartet werden. Es werden alle Voreinstellungen des Installers übernommen und die Programmdateien im Verzeichnis /usr/local/games/etqw.demo.server/ installiert.</p>

<pre><code>$ md5sum ETQW-demo-server.3.x86.run  
e1744f7827e1cab9a4cc05b06028e7ac ETQW-demo-server.3.x86.run  
$ chmod a x ETQW-demo-server.3.x86.run  
# ./ETQW-demo-server.3.x86.run 
</code></pre>

<p>Zur Konfiguration des Gameservers dient die Datei server.cfg im Verzeichnis base im Installationspfad. Für den unerfahrenen Administrator, der zum ersten Mail einen Gameserver einrichtet, mag der <a href="http://www.infinity-gamehosting.net/config/etqw">Config file creator</a> eine Hilfe sein.<br/>
Im gleichen Verzeichnis befindet sich noch die Datei usergroups.dat, in der ein Passwort gesetzt werden kann, wenn eine Remote Administration des Gameservers gewünscht ist. Es sind die Kommentarzeichen (‘//’) zu entfernen und die Zeichenfolge “PASSWORD” durch das gewünschte Passwort zu ersetzen. Die zu ändernde Zeile sieht wie folgt aus:</p>

<pre><code>group Admin {  
//password PASSWORD 
</code></pre>

<p>An dieser Stelle sind Installation und Konfiguration des Gameservers abgeschlossen und der Dienst könnte gestartet werden. Aber wie? Der Hersteller sieht hierfür offenbar das Skript etqw-dedicated im Installationsverzeichnis vor. Der Nachteil ist, dass es mit den Rechten des aufrufenden Benutzers ausgeführt wird. Beendet der aufrufende Benutzer seine Terminalsitzung (beispielsweise SSH-Verbindung) wird außerdem der Serverdienst beendet. In den einschlägigen Foren sind Tipps zu finden, den Gameserver in einer screen-Session laufen zu lassen. Das ist ein Ausweg aus letztgenannter Einschränkung, aber weit weg von einer ordentlichen Lösung. Wie jeder andere Serverdienst soll auch der Gameserver über ein Init-Skript und den Start-Stop-Daemon mit eigenen Benutzerrechten gestartet werden. Eine entsprechende Lösung, die nicht auf screen und sudo-Spielereien setzt, konnte ich leider nicht finden und so entwickelte ich sie selbst.</p>

<p>Zuerst wird ein neuer Systembenutzer benötigt, mit dessen Rechten der Gameserver gestartet werden soll. Der folgende Befehl legt den Systembenutzer und die Gruppe etqwded mit dem Homeverzeichnis /var/lib/etqw-dedicated an.</p>

<pre><code># adduser –system –home /var/lib/etqw-dedicated –group etqwded 
</code></pre>

<p>Als nächstes wird das Init-Skript mit dem folgenden Inhalt in /etc/init.d/etqw-dedicated gespeichert. Die Optionen “ set fs_userpath $ETQW_HOME set fs_savepath $ETQW_HOME” werden hier dauerhaft gesetzt, um zu gewährleisten, dass die Einstellungen in /var/lib/etqw-dedicated statt in ~/.etqw gespeichert werden.</p>

<pre><code>#! /bin/sh  
### BEGIN INIT INFO  
# Provides: etqwded.x86  
# Required-Start: $local\_fs $remote\_fs  
# Required-Stop: $local\_fs $remote\_fs  
# Default-Start: 2 3 4 5  
# Default-Stop: 0 1 6  
# Short-Description: ETQW dedicated server  
# Description: Enemy Territory: Quake Wars dedicated server  
### END INIT INFO 
# Debian init.d script for the Enemy Territory: Quake Wars dedicated server  
# Copyright © 2007  
# Stefan Warten   
#  
# This file is licensed under the terms of the GNU General Public License,  
# Version 2 or any later version published by the Free Software Foundation.

set -e  
export LD\_LIBRARY\_PATH=“$LD\_LIBRARY\_PATH:.”

ENABLED=

. /lib/lsb/init-functions

# Source defaults file. Edit that file to configure this script.  
if [ -e /etc/default/etqw-dedicated ]; then  
  . /etc/default/etqw-dedicated  
fi

# Quit quietly, if $ENABLED is 0.  
test “$ENABLED” != “0″ || exit 

if [ ! -x "$ETQW_DEDSERVER" ]; then  
  log\_failure\_msg “ETQW dedicated server ‘$ETQW_DEDSERVER’ does not exist or is not “   
    “executable.”  
  exit 5  
fi

if [ ! -d "$ETQW_DIR" ]; then  
  log\_failure\_msg “ETQW directory ‘$ETQW_DIR’ does not exist.”  
  exit 6  
fi

if [ -z "$ETQW_USER" ]; then  
  log\_failure\_msg “ETQW_USER variable is empty. Set it to a user to run “   
    “the ETQW dedicated server.”  
  exit 6  
fi

PIDFILE=/var/run/etqw-dedicated.pid  
DESC=“ETQW dedicated server”  
NAME=`basename $ETQW_DEDSERVER`  
ETQW_OPTS=“ set net\_serverDedicated 1 set fs\_userpath $ETQW\_HOME set fs\_savepath $ETQW\_HOME $ETQW\_OPTS exec server.cfg”

is_running()  
{  
  retval=1  
  if [ -r $PIDFILE ]; then  
    pid=`cat $PIDFILE`  
    if [ -e /proc/$pid ]; then  
      procname=`/bin/ps h -p $pid`  
      [ -n "$procname" ] &amp;&amp; retval=  
    fi  
  fi  
  return $retval  
}

start()  
{  
  log\_begin\_msg “Starting $DESC: $NAME”  
  if is_running; then  
    log\_progress\_msg “already running”  
  else  
    start-stop-daemon –start –quiet –background –pidfile $PIDFILE   
      –make-pidfile –user $ETQW_USER –chuid $ETQW_USER –chdir $ETQW_DIR   
      –exec $ETQW_DEDSERVER — $ETQW_OPTS  
  fi  
  log\_end\_msg   
}

stop()  
{  
  log\_begin\_msg “Stopping $DESC: $NAME”  
  if ! is_running; then  
    log\_progress\_msg “not running”  
  else  
    start-stop-daemon –stop –quiet –oknodo –pidfile $PIDFILE   
      –user $ETQW_USER –exec $ETQW_DEDSERVER  
  fi

  rm -f $PIDFILE  
  log\_end\_msg   
}

status()  
{  
  STATUS=“Status of $DESC:”  
  if is_running; then  
    log\_success\_msg “$STATUS running.”  
  else  
    log\_success\_msg “$STATUS stopped.”  
  fi  
}

case “$1″ in  
  start)  
    start  
    ;;

  stop)  
    stop  
    ;;

  restart|force-reload)  
    stop  
    sleep 1  
    start  
    ;;

  status)  
    status  
    ;;

  *)  
    log\_success\_msg “Usage: $0 {start|stop|restart|force-reload|status}” &gt;&amp;2  
    exit 1  
    ;;  
esac

exit
</code></pre>

<p>Das Init-Skript bezieht, wie bei Debian üblich, manche seiner Variablen über eine Konfigurationsdatei. Es ist die Datei /etc/default/etqw-dedicated mit dem folgenden Inhalt anzulegen. Der geneigte Administrator kann hier eigene Einstellungen vornehmen.</p>

<pre><code># This file is /etc/default/etqw-dedicated, it is a configuration file for the  
# /etc/init.d/etqw-dedicated init script. 
# Set this to 1 to enable and to 0 to disable the init script.  
ENABLED=“1″

# The ETQW dedicated server will be started with the permissions of this user.  
ETQW_USER=“etqwded”

# This is the home directory of the user runnning the ETQW dedicated server.  
ETQW_HOME=“/var/lib/etqw-dedicated”

# This is the binary directory of the ETQW dedicated server.  
ETQW_DIR=“/usr/local/games/etqw.demo.server”

# This is the location of the ETQW dedicated server binary, that the init script uses.   
ETQW_DEDSERVER=“$ETQW_DIR/etqwded.x86″

# Here you can specify additional options to pass to the ETQW dedicated server.  
#ETQW\_OPTS=” set net\_ip 10.20.30.40 set net_port 27733″
</code></pre>

<p>Sind beide Dateien angelegt, müssen das Init-Skript noch ausführbar gemacht und die Links für Init gesetzt werden, damit der Dienst bei Änderungen des Runlevels automatisch gestartet oder beendet wird.</p>

<pre><code># chmod a x /etc/init.d/etqw-dedicated  
# update-rc.d etqw-dedicated defaults 
</code></pre>

<p>Der Gameserver kann nun mit dem folgenden Kommando gestartet werden. Er wird dann über den Start-Stop-Daemon als Prozess des Benutzers etqwded ausgeführt. Die zur Laufzeit erstellten Dateien werden in /var/lib/etqw-dedicated gespeichert.</p>

<pre><code># /etc/init.d/etqw-dedicated start 
</code></pre>

<p>Um den Gameserver betreiben zu können, muss sichergestellt sein, dass eingehender Traffic auf den UDP-Ports 3074 und 27733 und ausgehender Traffic auf TCP-Port 3074 erlaubt ist. Es kann erforderlich sein, dass die Firewall (iptables) entsprechend angepasst werden muss.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/sslzertifikate_erstellen_und_m/">SSL-Zertifikate Erstellen Und Mit Apache Nutzen</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-08-20T00:00:00+02:00" pubdate data-updated="true">Aug 20<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>In der Kommunikation zwischen Client und Server werden Zertifikate benötigt, wenn sichergestellt werden soll, dass sich die Parteien vertrauen können. Ein Zertifikat muss von einer Zertifizierungsstelle (Certification Authority, CA) signiert werden; die CA bürgt für die Echtheit des Zertifikats.</p>

<p>Es soll ein SSL-Zertifikat (X.509) erstellt werden. Unabhängig davon, ob das Zertifikat von einer externen CA oder selbst signiert werden soll, muss zuerst immer eine Bürgschaftsanfrage (certificate request, CSR) generiert werden.</p>

<pre><code>$ openssl req -new -nodes -keyout private\_key.pem -out private\_key.pem -days 365  
Generating a 1024 bit RSA private key  
…………………….   
……….   
writing new private key to ‘private_key.pem’  
—–  
You are about to be asked to enter information that will be incorporated  
into your certificate request.  
What you are about to enter is what is called a Distinguished Name or a DN.  
There are quite a few fields but you can leave some blank  
For some fields there will be a default value,  
If you enter ‘.’, the field will be left blank.  
—–  
Country Name (2 letter code) [AU]:DE  
State or Province Name (full name) [Some-State]:Berlin  
Locality Name (eg, city) []:Berlin  
Organization Name (eg, company) [Internet Widgits Pty Ltd]:  
Organizational Unit Name (eg, section) []:  
Common Name (eg, YOUR name) []:example.com  
Email Address []:webmaster@example.com 
Please enter the following ‘extra’ attributes  
to be sent with your certificate request  
A challenge password []:  
An optional company name []:  
</code></pre>

<p>Der Befehl erstellt den privaten Schlüssel und das CSR in einer Datei. Auf die Angabe eines Passworts wurde aus praktischen Gründen verzichtet. Würde ein privater Schlüssel mit Passwort in einen Serverdienst eingebunden werden, müsste das Passwort bei jedem Start des Dienstes erneut eingegeben werden. Da der private Schlüssel somit ungeschützt ist, muss er unbedingt vor fremden Zugriffen geschützt werden.</p>

<p>Nun kann das CSR an die CA übergeben und signiert werden. Eine gemeinschaftsbetriebene, nicht-kommerzielle Zertifizierungsstelle, die kostenfrei X.509-Zertifikate für verschiedene Einsatzgebiete ausstellt ist <a href="https://www.cacert.org/">CAcert</a>.</p>

<pre><code>—–BEGIN CERTIFICATE REQUEST—–  
ICHBINUNGÜLTIG9tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCu/ppznA8u  
DD0UzHX/YQj5doqi2vWvGNhg849RJpbJ/ vlW/ZhkBTJ6M8ry/dzg1lp XK08kkK  
BgNVBAcTBkJlcmxpbjEhMB8GA1UEChMYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRk  
MRQwEgYDVQQDEwtleGFtcGxlLmNvbTEkMCIGCSqGSIb3DQEJARYVd2VibWFzdGVy  
pLZMP3XDjvFkZW8F22Aq3ySBaLGagKHxvwIDAQABoAAwDQYJKoZIhvcNAQEFBQAD  
Eob45fj1XE9AOqTAT8noFcdK1uixXsgPYfqNiQrVXfAunoiLUhYYFYXRc1qAI3dA  
MIIBzzCCATgCAQAwgY4xCzAJBgNVBAYTAkRFMQ8wDQYDVQQIEwZCZXJsaW4xDzAN  
gYEAn/HkOtZyMCLZRkhG1Prph/1hbLilyARVul s8Z/J TnAWw6fxcyDpXGDTfNj  
FDj7WXcxZ pfPF9lzfz8mI3NLNr8BSx/ejM7qHAjcie RUkUQo2KToSFv2D9w6cq  
2eZW3F9helt3qae8hXBfbSTORYozLRF8c ZQHKkCJJjoZUs=  
—–END CERTIFICATE REQUEST—– 
</code></pre>

<p>Nach einer Identitätsprüfung wird die Zertifizierungsstelle ein signiertes, öffentliches Zertifikat zurückgeben, das zusammen mit dem privaten Schlüssel benutzt werden kann. Das Zertifikat kann in die oben genannte Datei kopiert werden.</p>

<p>Um das Zertifikat für eine sichere Verbindung mit HTTPS zu verwenden, muss es auf den Server kopiert und im Webserver eingebunden werden. Im Beispiel wird ein Apache2 auf einem Debian GNU/Linux verwendet.</p>

<pre><code># cp private\_key\_and_certificate.pem /etc/apache2/ssl/example.com.pem  
# chmod 600 /etc/apache2/ssl/example.com.pem 
</code></pre>

<p>Im Webserver wird das Zertifikat mit der Direktive SSLCertificateFile eingebunden.</p>

<pre><code>NameVirtualHost *:443  

ServerAdmin webmaster@example.com  
ServerName example.com  
SSLEngine On  
SSLCertificateFile /etc/apache2/ssl/example.com.pem
</code></pre>

<p>Damit sind alle Vorbereitungen beendet und die sichere Verbindung kann genutzt werden.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/encrypted_esmtp_at_strato/">&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-08-15T00:00:00+02:00" pubdate data-updated="true">Aug 15<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<pre><code>Received: from \[1.2.3.4\] ([5.6.7.8])  
    by post.webmailer.de (mrclete mo32) (RZmta 11.0)  
    with RC4-MD5 encrypted ESMTP id V03a42j7FEM162 for ;  
    Wed, 15 Aug 2007 16:54:05 0200 (MEST)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/swap_erweitern_durch_dateien/">Swap Erweitern Durch Dateien</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-08-10T00:00:00+02:00" pubdate data-updated="true">Aug 10<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Wenn die als Swap zur Verfügung stehende Festplattenpartition zu klein ist, kann der Swap-Speicher durch Dateien im Linux-Filesystem erweitert werden. Dieser Weg sollte selbstverständlich nur eine Ausnahme darstellen, da ein Swap-Speicher in einer Datei noch langsamer als ohnehin schon ist.</p>

<p>Um eine Swap-Datei hinzuzufügen ist wie folgt vorzugehen:</p>

<p>Zuerst wird eine Datei der gewünschten zusätzlichen Swap-Größe erstellt (hier 1GB).</p>

<pre><code># dd if=/dev/zero of=/swap-file bs=1024 count=1048576 
</code></pre>

<p>Nun wird ein Swap-Bereich in der Datei erstellt…</p>

<pre><code># mkswap /swap-file 
</code></pre>

<p>… und aktiviert.</p>

<pre><code># swapon /swap-file 
</code></pre>

<p>Damit das neue Swap-File beim Booten aktiviert wird, muss folgender Eintrag der Datei <code>/etc/fstab</code> hinzugefügt werden:</p>

<pre><code>/swap-file swap swap defaults 0 0
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/installation_von_oracle_databa/">Installation Von Oracle Database XE Auf Ubuntu Linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-08-10T00:00:00+02:00" pubdate data-updated="true">Aug 10<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Die Installation von Oracle® Database Express Edition 10g Release 2 (10.2) for Linux erfolgt auf Ubuntu Linux (feisty) wie in der <a href="http://www.oracle.com/technology/software/products/database/xe/files/install.102/b25144/toc.htm">Anleitung des Herstellers</a> beschrieben.<br/>
Nicht in der Anleitung erwähnt wird, dass es auch ein Debian repository für Oracle XE gibt, das sich mit folgendem Eintrag in der Datei /etc/apt/sources.list nutzen lässt.</p>

<pre><code>deb http://oss.oracle.com/debian unstable main non-free
</code></pre>

<p>Der für Secure-APT benötigte <a href="http://oss.oracle.com/el4/RPM-GPG-KEY-oracle">Public Key (2E2BCDBCB38A8516)</a> wird geladen, geprüft und installiert.</p>

<pre><code># wget -q http://oss.oracle.com/el4/RPM-GPG-KEY-oracle
# gpg –import RPM-GPG-KEY-oracle
gpg: key B38A8516: public key “Oracle OSS group (Open Source Software group) ” imported
gpg: Total number processed: 1
gpg:               imported: 1
# gpg –fingerprint build@oss.oracle.com
pub   1024D/B38A8516 2006-09-05 [expires: 2011-09-04]
      Key fingerprint = 1122 A29A B257 825F 322C 234E 2E2B CDBC B38A 8516
uid                  Oracle OSS group (Open Source Software group) 
sub   2048g/0042D4F4 2006-09-05 [expires: 2011-09-04]
# gpg –armor –export B38A8516 | apt-key add -
OK
</code></pre>

<p>Nun kann das Paket installiert werden.</p>

<pre><code># aptitude install oracle-xe-universal
</code></pre>

<p>Die Oracle Datenbank erwartet bei 512 Megabyte oder mehr RAM mindestens ein Gigabyte Swap space. Der erforderliche Speicher stand auf dem System nicht zur Verfügung und so wurde der <a href="http://syslog.warten.de/2007/08/swap_erweitern_durch_dateien.html">Swap durch eine Datei erweitert</a>. Offenbar findet die Überprüfung der Größe des Swap-Speichers nur bei der Installation und nicht beim Betrieb der Datenbank statt. Somit wird das Swap-File nur für die Installation benötigt.<br/>
Ist die Installation abgeschlossen, muss die Datenbank mit folgendem Befehl konfiguriert werden.</p>

<pre><code># /etc/init.d/oracle-xe configure
</code></pre>

<p>Weiterhin sind die Umgebungsvariablen für Oracle-Benutzer zu setzen. Bei dieser Installation soll allein der Benutzer oracle die Datenbank benutzen. Hierzu wird in das <code>.bash_profile</code> des Benutzers ein Skript eingebunden, dass alle benötigten enviroment variables setzt.</p>

<pre><code># echo ". /usr/lib/oracle/xe/app/oracle/product/10.2.0/server/bin/oracle_env.sh" &gt;&gt; /usr/lib/oracle/xe/.bash_profile
</code></pre>

<p>Die Installation lief scheinbar erfolgreich durch und es wurde der fehlerfreie Start des Oracle Net Listener und der Oracle Database 10g Express Edition Instance gemeldet. Tatsächlich brachen alle Oracle-Prozesse sofort ab, weil der Net Listener keine Verbindung zum target host aufbauen konnte.<br/>
Die Ursache war in der Datei <code>/etc/hosts</code> zu finden. Da der Ursprung des Fehlers in der Datei unklar ist, sei der Hinweis auf sie an dieser Stelle ausreichend.<br/>
Ist die Oracle-Datenbank erfolgreich installiert und konfiguriert worden, kann es losgehen. Da der Benutzer oracle Mitglied der Gruppe dba ist, muss kein Passwort eingegeben werden.</p>

<pre><code># su – oracle
$ sqlplus sys as sysdba
SQL*Plus: Release 10.2.0.1.0 – Production on Fri Aug 10 22:04:28 2007
Copyright (c) 1982, 2005, Oracle. All rights reserved.
Enter password:
Connected to:
Oracle Database 10g Express Edition Release 10.2.0.1.0 – Production
SQL&gt; 
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/07/spamassassin_rules_emporium_sa/">SpamAssassin Rules Emporium (SARE) Benutzen</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-07-24T00:00:00+02:00" pubdate data-updated="true">Jul 24<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>Durch ein Posting auf <a href="http://listi.jpberlin.de/pipermail/postfixbuch-users/2007-July/036052.html">[Postfixbuch-users]</a> an <a href="http://www.rulesemporium.com/">SARE</a> erinnert worden und es in SpamAssassin <a href="http://saupdates.openprotect.com/">integriert</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/12/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/10/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/26/build-spotify-rpm-on-fedora/">Build Spotify RPM on Fedora</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/26/backup-synology-nas-using-rsync/">Backup Synology NAS using rsync</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/16/hello-world/">Hello world</a>
      </li>
    
      <li class="post">
        <a href="/2012/06/simple-sftp-setup/">Simple SFTP setup</a>
      </li>
    
      <li class="post">
        <a href="/2012/05/425/">425</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sw0x2A">@sw0x2A</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sw0x2A',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - SW -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
